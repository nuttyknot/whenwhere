<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">    
    <title>When & Where</title>
    <link rel="stylesheet" href="css/jquery.mobile-1.0.1.min.css" />
    <script src="js/jquery-1.7.1.min.js"></script>
    <script src="js/jquery.mobile-1.0.1.min.js"></script>  
    <script>
    $(function() {
      function isAlphanumeric(value){
        if(value.match(/^[0-9a-zA-Z]+$/)){
          return true;
        }else{
          return false;
        }
      }

      $("form").submit(function(){
        var event_field = $("#event_number"),
          event_id = event_field.val();
        if(event_id == "" || !isAlphanumeric(event_id)) {
          event_field.focus();
          return false;
        }
        localStorage.event_id = event_id;
      });
      $("#qr_code").click(function() {
        backend.scanQR();
      });
    });  
    function callback(event_id) {
      console.log("QR:"+event_id);
      $("#event_number").val(event_id);
    }  
    </script>      
  </head>
  <body>
    <div data-role="page">
      <div data-theme="b" data-role="header">
        <a href="#" data-icon="back" data-rel="back">Back</a>
        <h1>Search</h1>
      </div><!-- /header -->
      <div data-role="content">
        <form action="event_info.htm" method="post" data-ajax="false">
          <div data-role="fieldcontain">
            <label for="event_number">Event Number:</label>
            <input required="required" type="text" value="" name="id" id="event_number" min="0" />
          </div>
          <!--<a href="#" onclick="submit();return false" data-role="button" data-theme="a">View Detail</a>-->
          <button type="submit" data-theme="a">View Detail</button>
        </form>
        <button id="qr_code" data-theme="e">Scan QR Code</button>
      </div><!-- /content -->
    </div><!-- /page -->
  </body>
</html>
